<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Miniproject 1: Open Sourcery</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/accessible-code-block-0.0.1/empty-anchor.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">BIOL 5380</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Mini-Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mini_projects.html">Mini-Projects Overview</a>
    </li>
    <li class="dropdown-header">MP1 Description</li>
    <li class="dropdown-header">MP2 Description</li>
    <li class="dropdown-header">MP3 Description</li>
    <li class="dropdown-header">MP4 Description</li>
    <li class="dropdown-header">MP3 Description</li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Final Project
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="final_project.html">FP Overview</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://github.com/orgs/bcbiomech/teams/biol-5380">Discussion Board</a>
</li>
<li>
  <a href="https://bostoncollege.instructure.com/courses/1615104">Course Canvas Page</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Miniproject 1: Open Sourcery</h1>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Welcome to the first Mini Project of BIOL 5380. The focus of this MP will be learn the basics of simple scripting and report writing. For our scripting work, we’ll learn how to load, organize and summarize data, and produce simple figures. While we learn some ins and outs of simple data operations, we’ll also learn how one can organize, share, and communicate results and ideas.</p>
<p>Our tasks will be to:</p>
<ol style="list-style-type: decimal">
<li>Familiarize ourselves with the R and R Markdown frameworks.</li>
<li>Author a simple R Markdown.</li>
<li>Run code within an R Markdown document.</li>
<li>Add graphics (i.e., figures), to an R Markdown document.</li>
<li>Render (i.e., knit) this R Markdown into HTML documents.</li>
</ol>
<div id="buckle-up" class="section level2">
<h2>Buckle Up!</h2>
<p>I’ll be honest, for many of us just getting into this sort of thing, the learning curve is steep (see below). You’ll be on the ascending limb of this curve for a while, but once you get over the hump, you’ll be on its descending limb. I promise that eventually the time you invest in learning how to work in R will decrease your overall effort compared to where you started. So, just sit back, take it all in and rest assured you’re making a great investment.</p>
<pre><code>## ── Attaching packages ─────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.3     ✓ dplyr   1.0.2
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre><code>## 
## Attaching package: &#39;scales&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:purrr&#39;:
## 
##     discard</code></pre>
<pre><code>## The following object is masked from &#39;package:readr&#39;:
## 
##     col_factor</code></pre>
<div class="figure">
<img src="MP1_files/figure-html/unnamed-chunk-1-1.png" alt="The R coding learning curve." width="672" />
<p class="caption">
The R coding learning curve.
</p>
</div>
</div>
<div id="first-principles" class="section level2">
<h2>First Principles</h2>
<p>R Studio’s <a href="https://rmarkdown.rstudio.com/">markdown tutorial</a> [Read Introduction to Output Formats]</p>
<p>As you learn more about R Markdown, you may want to reference the following online resources:</p>
<ul>
<li>A rather <a href="https://github.com/rstudio/bookdown">complete guide to R Markdown by Yikui Xie</a></li>
<li>R Markdown <a href="https://rmarkdown.rstudio.com/lesson-15.html">Cheatsheets</a></li>
</ul>
</div>
</div>
<div id="part-i-establishing-a-work-space" class="section level1">
<h1>Part I: Establishing a Work Space</h1>
<div id="working-in-directories" class="section level2">
<h2>Working in Directories</h2>
<p>Before we set up our workspace in R Studio, let’s discuss where we’ll store important files you’ll need for this project. This will establish a framework for other Mini Projects in the course.</p>
<p>First, we should establish a directory (i.e., folder) where we intend to store these files. Go ahead and do that, perhaps with the logical title “MP1”. When we start work in R Studio and create a Markdown, we’ll store the Markdown document in this folder. For each project, we’ll use a single R Markdown file to save and execute code and generate a slick report. The code in a Markdown looks to the directory in which it is stored when that code requires input (e.g., data) or outputs (e.g., save plots and reports). In more technical parlance, the working directory is the parent directory of the Markdown document.</p>
<p>This has several important implications. First, this means that, unlike a simple script, you never have to tell R where to look for files or where to store them (i.e., set the working directory). This also means if you want your code in a Markdown to analyze data stored as a text file, you should make sure that this file is in the same directory as the Markdown document.</p>
<p>For this project, we’ll be working with jumping data from Prof. Kenaley’s two children. You can download these files by clicking <a href="data/OZ_jumping.zip">here</a>. ## The R Studio IDE</p>
<p>R Studio is an Integrative Development Environment (IDE), that is, software that puts all that R can do on one screen. It is worth noting that <strong>R Studio is not R</strong>. In other words, R Studio helps you run R and see it’s outputs and inputs. When you first start R Studio, you must have R installed.</p>
<p>Open R Studio and have a look at the arrangement of the windows. By default, there are four of these (see below):</p>
<ol style="list-style-type: decimal">
<li>Code editor: This is where one edits code (a script, Markdown document, etc., i.e., where you store your R commands).</li>
<li>The console (also terminal and R Markdown monitor): This is where you see the what’s passed to R when your run code in the editor.</li>
<li>Workspace and Environment: Tabs in this window describe what variables have been created and the history of the operations passed to the console.</li>
<li>Plots, files, and help: Tabs in this window show the graphics that are produced from plotting commands, the files in a local directory (i.e., folder), packages (i.e., groups of functions) that are loaded, and help files that describe R functions.</li>
</ol>
<div class="figure">
<img src="https://lh3.googleusercontent.com/proxy/0obSbSp9iXrPYsLwkro-vWJidhrJdKRPK1btUG9A3FOtz_-bLKO3t1664zvhYmLk297PZbbhtFyTG76AIw9kDaaXN6hg5fn5AHQ" alt="R Studio window arrangement." width="550" />
<p class="caption">
R Studio window arrangement.
</p>
</div>
<p>To get a sense of how this windows work together, open a new R script file with “File-&gt;New-&gt;”R script“. There may be one loaded when you open R Studio. If so, ignore this step. You’ll see a tab in the editor window titled”Untitled.R". This file is a simple text file where you can store commands.</p>
<p>Now, type in the following text:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a><span class="kw">data</span>(<span class="st">&quot;cars&quot;</span>)</span></code></pre></div>
<p>Then, put your cursor at the end of the line or select the entire line and punch in <strong>cmd+return</strong> on a Mac or <strong>ctrl+enter</strong> on a PC. <strong>This will run this line of code</strong>*. Now look at the history tab in the upper right and the console tab in the lower left. You should see <code>data("cars")</code>. This means that you’ve told R to load the data set <code>cars</code>, data for the speed of cars and the distances taken to stop that are buried in all R installs.</p>
<p>Now type in the following <strong>in the console</strong>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>?cars</span></code></pre></div>
<p>Notice that a documentation entry pops up in the help tab in the lower right. Help pages like this are enormously helpful when you want to know more about any function, data set, or package loaded into R. Be sure to use this resource early and often.</p>
<p>Do something similar to find out what the <code>plot()</code> function is all about. Type this into the console.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>?<span class="kw">plot</span>()</span></code></pre></div>
<p>Notice you get a few topics in the help tab. Click on “Generic X-Y Plotting” to see what this function in base R requires and can do.</p>
<p>Next, go ahead and add this line to the R script:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="kw">print</span>(cars)</span></code></pre></div>
<p>Notice how the <code>cars</code> data frame is printed to the console. There are two columns, <code>speed</code> and <code>dist</code>. Let’s now plot <code>dist</code> vs. <code>speed</code> using <code>plot()</code>. So now add the following to script and run this new line:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="kw">plot</span>(cars<span class="op">$</span>speed,cars<span class="op">$</span>dist)</span></code></pre></div>
<p><img src="MP1_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>You’ll see a plot identical to the one above in the “Plots” tab. As we’ll learn in a bit, data frames with named columns (and other variable types with named vectors) can be subsetted with <code>$</code>. Go over to the upper right window and click on the “Environment” tab. Under “Data”, you’ll see the variable “cars” described. Click on it and this will pass a <code>View()</code> command to the R console which, in turn, will add a tab in the upper left with the tittle “cars”. This tab contains a row-by-column representation of the data.</p>
<p>So far, you’ve run the commands in each line by selecting and punching in *cmd+return<strong> or </strong>ctrl+enter** key strokes. This is a handy way to run each line as you add it to your code. You can also run all the code at once by selecting all the text and keying in *cmd+return<strong> or </strong>ctrl+enter**. Every operation encoded in these lines will unfold in order.</p>
<p>From this quick exploration of how R works in R Studio, we should note few important things:</p>
<ol style="list-style-type: decimal">
<li>Commands for R to process are stored in text files that appear in the editor window.</li>
<li>The console shows what’s been run by R.</li>
<li>Commands can be run in the console, but aren’t saved in the script file.</li>
<li>The “Help” and “Environment” tabs are useful resources for seeing what’s under the hood of your R environment.</li>
<li>Plots and other graphics appear in the “Plots” tab.</li>
</ol>
</div>
<div id="working-with-r-in-markdown" class="section level2">
<h2>Working with R in Markdown</h2>
<p>Although we’ve just learned how commands are passed through R in R Studio by using a script file, we won’t use these simple files in the class. They contain only code. While they may produce important things like plots and the results of calculations, they’re not very easy to read and don’t provide any narrative. As an alternative to writing code in one place and about the results of the code in another, we’ll combine our code and narratives in one document: an R Markdown (or .Rmd file). That is, you can use a single R Markdown file to both save and execute code and generate high quality reports that can be shared with an audience.</p>
<p>So let’s begin our Markdown odyssey with opening a new .Rmd file with “File-&gt;New-&gt;R Markdown”.</p>
<p><img src="img/newRmd.png" width="550" /></p>
<p>In the title box, enter “MP1” and your name in the author box, then click ok. You’ll see and untitled .Rmd appear in the upper left window. Save this to yout “MP1” diectory. Let’s now have a look at what’s in this text file.</p>
</div>
<div id="the-yaml-header" class="section level2">
<h2>The YAML Header</h2>
<p>You’ll see at the top of your new “.Rmd” file a header contained between two lines (<code>---</code>). This is the YAML header that specifies the attributes of the markdown, all of which are inherited from the dialog your answered when opening the new .Rmd. By default it includes a title, author, date, and type of file for your output. These are but a few of the formatting options and settings that could apply to the whole document. For now, let’s leave it as is. So it should look like this:</p>
<pre><code>---
title: &quot;MP1&quot;
author: Your Name
date: 5/Feb/2021
output: html_document
---</code></pre>
<p>Below the YAML header is the space where you’ll include text, code, etc.</p>
</div>
<div id="knitting-cozy-reports" class="section level2">
<h2>knitting Cozy Reports</h2>
<p>In the .Rmd before us, we have a template with some marked up text. This is the file that will be interpreted by the Markdown language to produce a document. To do so, you must “knit” the .Rmd. You can do this by selecting the “knit” icon at the top of the file panel or keying in <strong>cmd+shift+k</strong>. Go ahead and do either and see what happens. You’ll get an HTML rendering of your document. You may end up doing this often as you add new pieces and markup to the text. Notice that there’s now an .html file saved to the same directory (i.e., folder) containing the .Rmd file. You can see this in the “Files” tab in the lower right window.</p>
<p>Notice the following components:</p>
<ul>
<li>Headers: Text marked with <code>#</code>’s that indicate sections.</li>
<li>Code chunks: code text wrapped in "**``<code>**", the fist instance of which is appended with</code>{r…}`. These sections run the code within them.</li>
</ul>
</div>
<div id="headers" class="section level2">
<h2>Headers</h2>
<p>When you start putting together the content of an .Rmd, you should consider adding sections almost immediately. This can serve as an outline for the document. Headers provide a way of hierarchically organizing the document into sections that reflect an outline. These are identified in the markdown by using one or several <code>#</code>. The more you use, the smaller the text and, presumably the less inclusive the header. That is, <code>#</code> is the biggest header and <code>##</code> is typically nested within a <code>#</code> header, and <code>###</code> is nested within a <code>##</code> header. For instance, this</p>
<pre><code># Header 1

Text under Header 1

## Header 2

Text under Header 2

### Header 3

Text under Header 3
</code></pre>
<p>will produce this: <img src="img/headers.png" width="550" /></p>
<p>In your future project reports, you’ll always want to include sections for an introduction, methods, results, discussion, author contributions, and references. We’ll organize the .Rmd accordingly, so please add those sections to your .Rmd. with a high-level header <code>#</code>. You can add nested subsections and text as needed later.</p>
</div>
<div id="adding-and-running-code-with-chunks" class="section level2">
<h2>Adding and Running Code with Chunks</h2>
<p>Code you include in your .Rmd should be written in sections enclosed by three backwards apostrophes (```). These sections are known as code chunks and look like this:</p>
<p><img src="img/chunk.png" width="550" /></p>
<p>You can insert code chunks by selecting the “insert” icon at the top of the the tab, by keying in <strong>cmd+opt+i</strong>, or simply typing those “```”.</p>
<p>To run the chunk, your can click on “run” icon at the top of R studio and select “Run Current Chunk”. Alternatively, you can click on the green icon that looks like a play button/tringle (see below) or insert your cursor in the chunk and key in <strong>cmd+shift+return</strong>.</p>
<p><img src="img/runchunk.png" width="550" /></p>
<p>The content inside the curly brackets (<code>{}</code>) controls the behavior of code chunk. In this case, we’re telling R markdown that the code inside the chunk is to be interpreted with R. This is a handy place to control the output of the code chunk. Let’s jump right into how you would include code in chunks in the context of this simple project.</p>
<p>At first, you’ll want to include a chunk that loads the libraries you intend to use in the .Rmd. Libraries are stored as packages and only a few are included in the R install. We’ll use several packages that need to be downloaded and installed. Fortunately, they’re all wrapped in one superpackage, <code>tidyverse</code>. Go to the “Packages” tab in the lower right window and click on the “install” tab. When you do that, you’ll see a prompt appear like the one below.</p>
<p><img src="img/install.png" width="350" /></p>
<p>In the “packages” field, type in “tidyverse” and click “install”. You’ll see a bunch of red text appear in the console, indicating that the packages in <code>tidyverse</code> are being installed.</p>
<p>No you can add the following to the very top of the document:</p>
<pre><code>```{r,include=FALSE}
library(tidyverse) #always
```</code> </pre>
<p>Run this chunk to load <code>tidyverse</code>.</p>
<p>Notice here that we included a behavior to the chunk, specifically <code>include=FALSE</code>. This prevents the code, and the results from appearing in the finished file. Have a look at <a href="https://rmarkdown.rstudio.com/lesson-3.html">this page</a> to familiarize yourself with handy and often used chunk options.</p>
<p>With a few exceptions, the logical place to include the code that produces analyses or figures is in the results sections. This is where the first output of the code will likely be relevant. So, under the results section, insert the following code chunks that establish the data we need in the next section.</p>
<pre><code>```{r, "load the data"}
anole <- read_csv("anole.dat.csv")
anole.eco <- read_csv("anole.eco.csv")
anole.tree <- read.tree("anole.tre")
```</code> </pre>
</div>
<div id="section-on-running-code" class="section level2">
<h2>Section on running code</h2>
<ul>
<li>line by line</li>
<li>knit</li>
<li>they are sequential</li>
</ul>
</div>
<div id="got-to-data-carpentry-after-my-intro." class="section level2">
<h2>Got to data carpentry after my intro.</h2>
<p>dont’ worry about section on saving data. Run the examples in R chunks. <a href="https://datacarpentry.org/R-ecology-lesson/01-intro-to-r.html" class="uri">https://datacarpentry.org/R-ecology-lesson/01-intro-to-r.html</a> # Part I: R Coding Basics</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co">#on a mac</span></span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="kw">setwd</span>(<span class="st">&quot;~/Documents/BC/5380.s.2018/MP1&quot;</span>)</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#on a pc</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co">#setwd(&quot;C:\\Users\\user\\Documents\\BC\\5380.s.2018\\MP1&quot;)</span></span></code></pre></div>
<p>Note, this is unique to each user. You can pull up the file info with your operating system and copy the directory and paste it within quotes of the <code>setwd()</code> command. Select the line and run the the <code>setwd()</code> command.</p>
<p>Now, let’s load the data and check that it read with (remember, <code>&lt;-</code> is R speak for pass the stuff to the right to a variable name on the left):</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>dat &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;OZ_jumping_1.csv&quot;</span>) <span class="co">#read the data from the comma-separated file </span></span>
<span id="cb15-2"><a href="#cb15-2"></a><span class="kw">head</span> (dat) <span class="co">#print the first few rows to the monitor</span></span></code></pre></div>
<p>OK, data loaded. Congrats! The <code>head()</code> command prints the first few rows, showing that the data include <code>o</code> for Ollie’s data and <code>z</code> for Zoe’s vertical displacement and <code>t</code> for time in milliseconds (ms), Now, let’s plot some of the data, say for Zoe, with the simple graphics packages and <code>with()</code> command loaded with R. The <code>with()</code> call says, “R, with the data <code>dat</code>, plot a scatterplot of <code>z</code> versus <code>t</code>.”</p>
<p>Splenid! But what about poor Ollie?!? We could add his points with the following <code>points()</code> call. The color parameter (<code>col</code>) is added with <code>red</code> to distinguish the two jumpers.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="kw">with</span>(dat,<span class="kw">plot</span>(t,z))</span>
<span id="cb16-2"><a href="#cb16-2"></a><span class="kw">with</span>(dat,<span class="kw">points</span>(t,o,<span class="dt">col=</span><span class="st">&quot;purple&quot;</span>))</span></code></pre></div>
<p>Even better! OK, but don’t we want to know more about this experiment, like say who jumped highest? How would we answer that? Well, perhaps something like this would help:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>max.o &lt;-<span class="st"> </span><span class="kw">max</span>(dat<span class="op">$</span>o)</span>
<span id="cb17-2"><a href="#cb17-2"></a>max.z &lt;-<span class="st"> </span><span class="kw">max</span>(dat<span class="op">$</span>z)</span>
<span id="cb17-3"><a href="#cb17-3"></a></span>
<span id="cb17-4"><a href="#cb17-4"></a>max.jump &lt;-<span class="st"> </span><span class="kw">c</span>(max.o,max.z)</span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="kw">names</span>(max.jump) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;o&quot;</span>,<span class="st">&quot;z&quot;</span>)</span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="kw">print</span>(max.jump)</span></code></pre></div>
<p><code>print()</code> prints something to the terminal and the <code>c()</code> command combines two or more things and the <code>names()</code> command gives a vector (a one-dimensional series) its names (notice the two must be the same length)</p>
<p>So that’s all well and good. It looks like Zoe jumped a littler higher. But, by how much? That’s simple to calculate. To do this, we’ll make turn these summary statistics into a two-dimensional data frame (like a spreadsheet), with the <code>data.frame()</code> function.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>oz.stats &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">o=</span>max.o,<span class="dt">z=</span>max.z)</span>
<span id="cb18-2"><a href="#cb18-2"></a>oz.stats<span class="op">$</span>diff &lt;-<span class="st"> </span><span class="kw">abs</span>(oz.stats[,<span class="st">&quot;o&quot;</span>]<span class="op">-</span>oz.stats[,<span class="st">&quot;z&quot;</span>])</span>
<span id="cb18-3"><a href="#cb18-3"></a><span class="kw">print</span>(oz.stats)</span></code></pre></div>
<p>Notice how we are able to subset the data by column name with brackets. Within the brackets, anything to the right of a comma references columns and anything to the left rows. So we select columns that equal <code>o</code> and <code>z</code> and then take the absolute value of one subracted from the other with the <code>abs()</code> call.</p>
</div>
</div>
<div id="whole-nutha-level" class="section level1">
<h1>Whole ’nutha level</h1>
<p>Spectacular! However, it’s a little cumbersome. There is, indeed, a little more streamlined way to do this with slightly more sophisticated data maniplulation and plotting that produces much more pleasing results and a workflow that can be manipulated with ease. Let’s first install and then load some packages that make for easy data manipulation and wonderful plot making.</p>
<p>Let’s go back to the original data and melt it, that is, rather than have seperate columns for the vertical displacement data for <code>o</code> and <code>z</code>, let’s have them in one and identify in another column to whom the data belong. This is super easy with the <code>melt()</code> function from <code>reshape2</code>. Then we can use the amazingly simple and beautiful plotting commands from <code>ggplot</code> to plot the data with a color according to the variable (which kiddo).</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>dat.m &lt;-<span class="st"> </span><span class="kw">melt</span>(dat,<span class="dt">id=</span> <span class="st">&quot;t&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="kw">head</span>(dat.m)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="kw">tail</span>(dat.m)</span>
<span id="cb19-4"><a href="#cb19-4"></a></span>
<span id="cb19-5"><a href="#cb19-5"></a><span class="kw">qplot</span>(<span class="dt">x=</span>t,<span class="dt">y=</span>value,<span class="dt">dat=</span>dat.m,<span class="dt">col=</span>variable) <span class="co">#a quick plot with ggplot</span></span></code></pre></div>
<p>Super easy and concise. What about those summary statistics? Just as easy with the <code>ddply</code> function in the <code>plyr</code> package . . .</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>dat.sum &lt;-<span class="st"> </span><span class="kw">ddply</span>(dat.m,.(variable),summarize,<span class="dt">max=</span><span class="kw">max</span>(value),<span class="dt">min=</span><span class="kw">min</span>(value),<span class="dt">max=</span><span class="kw">max</span>(value),<span class="dt">n=</span><span class="kw">length</span>(value))</span>
<span id="cb20-2"><a href="#cb20-2"></a><span class="kw">head</span>(dat.sum)</span>
<span id="cb20-3"><a href="#cb20-3"></a><span class="kw">tail</span>(dat.sum)</span>
<span id="cb20-4"><a href="#cb20-4"></a></span>
<span id="cb20-5"><a href="#cb20-5"></a><span class="kw">qplot</span>(<span class="dt">x=</span>variable,<span class="dt">y=</span>max,<span class="dt">dat=</span>dat.sum,<span class="dt">col=</span>variable,<span class="dt">size=</span><span class="dv">4</span>)</span></code></pre></div>
</div>
<div id="loop-if-you-can" class="section level1">
<h1>Loop <code>if</code> you can</h1>
<p>One of the most magical aspects of command-line computing (i.e., what you’re doing right now) is that one can automate the mundane. Imagine that instead of just one jumping experiment, you ran 5 separate jumping expirements with these two goofballs and had digitized data from each. Now that’s 5 replicates and worthy of some comprehensive analysis. For the record, 5 is generally seen as the magic minimum number of replicates in biomechanics. Assuming all the replicates result in the same raw data—vertical displacement of <code>o</code> and <code>z</code> and <code>t</code> in milliseconds, this should be relatively straigtforward. Think for a moment about how you would go about this. Would you somehow get these data into Excel and add another column column indicating the replicate? You could do that, but that’s slow and, as with so many manual operations in computing, often results in errors. Due to these factors and, as importantly, the ethos of BIOL5380, let’s avoid using commercial software with all its limitations. But where to begin? Enter the <code>for</code> loop.</p>
<p>What is a <code>for</code> loop you ask? It’s a command that runs while a condition is satisfied. For example, how ’bout we print a count down thusly:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>cnt &lt;-<span class="st"> </span><span class="dv">10</span><span class="op">:</span><span class="dv">1</span> <span class="co">#store some numbers</span></span>
<span id="cb21-2"><a href="#cb21-2"></a></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="cf">for</span>(i <span class="cf">in</span> cnt){</span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;It&#39;s now&quot;</span>, i))</span>
<span id="cb21-5"><a href="#cb21-5"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;It&#39;s now 10&quot;
## [1] &quot;It&#39;s now 9&quot;
## [1] &quot;It&#39;s now 8&quot;
## [1] &quot;It&#39;s now 7&quot;
## [1] &quot;It&#39;s now 6&quot;
## [1] &quot;It&#39;s now 5&quot;
## [1] &quot;It&#39;s now 4&quot;
## [1] &quot;It&#39;s now 3&quot;
## [1] &quot;It&#39;s now 2&quot;
## [1] &quot;It&#39;s now 1&quot;</code></pre>
<p>The operations contained in the <code>for</code> command (within the <code>"{ }"</code>) are repeated through the series defined by <code>cnt</code>. Specifically, for each value in <code>i</code>, <code>paste()</code> together <code>"It's now"</code> and <code>i</code> and <code>print()</code> it.</p>
<p>Now that we have a basic understanding of how this works, let’s apply it to our problem: automating the combining of a bunch of data. The crux here is that each of our 5 jumping trials are contained in their own files. Go ahead and download the remaining files and move them to your working directory:</p>
<p><a href="http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_2.csv" class="uri">http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_2.csv</a></p>
<p><a href="http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_3.csv" class="uri">http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_3.csv</a></p>
<p><a href="http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_4.csv" class="uri">http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_4.csv</a></p>
<p><a href="http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_5.csv" class="uri">http://www2.bc.edu/christopher-kenaley/bio5380/MP1/OZ_jumping_5.csv</a></p>
<p>Now have a look at your files in the directory with this:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="kw">list.files</span>()</span></code></pre></div>
<pre><code>##  [1] &quot;_site.yml&quot;           &quot;bg.png&quot;              &quot;class.Rproj&quot;        
##  [4] &quot;Common_mistakes.pdf&quot; &quot;data&quot;                &quot;final_project.html&quot; 
##  [7] &quot;final_project.Rmd&quot;   &quot;img&quot;                 &quot;index.html&quot;         
## [10] &quot;index.Rmd&quot;           &quot;Intro_files&quot;         &quot;KuoWalking.pdf&quot;     
## [13] &quot;lect&quot;                &quot;mini_projects.html&quot;  &quot;mini_projects.Rmd&quot;  
## [16] &quot;MP1_files&quot;           &quot;MP1.Rmd&quot;             &quot;schedule.html&quot;      
## [19] &quot;schedule.Rmd&quot;        &quot;site_libs&quot;           &quot;style.css&quot;          
## [22] &quot;test_files&quot;          &quot;test.html&quot;           &quot;test.Rmd&quot;           
## [25] &quot;Vogel_2007.pdf&quot;</code></pre>
<p>Notice something about the file name structure? They are all named with a simple convention, that is, they all end in <code>_number.csv.</code> This number indicates the replicate (1 was the first, 5 was the last). With a standard convention like this, we can use a <code>for</code> loop to read in each file and extract from the file name from what replicate the data come. Let’s walk through it. First, store the file names of interest:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>dat.files &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">pattern=</span><span class="st">&quot;.csv&quot;</span>)</span></code></pre></div>
<p>This saves the names of all the files with the pattern <code>.csv</code> to the variable name <code>dat.files</code>. Now, let’s use the for loop to read each file and save it to a list of data frames.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>all.dat &lt;-<span class="st"> </span><span class="kw">list</span>() <span class="co">#establish an empty list</span></span>
<span id="cb26-2"><a href="#cb26-2"></a><span class="cf">for</span> (i <span class="cf">in</span> dat.files ){</span>
<span id="cb26-3"><a href="#cb26-3"></a>  meta.dat &lt;-<span class="st"> </span><span class="kw">strsplit</span>(i,<span class="st">&quot;_&quot;</span>)[[<span class="dv">1</span>]] <span class="co">#store the metadata by splitting the file name</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>  <span class="cf">if</span>(<span class="kw">grepl</span>(<span class="st">&quot;OZ&quot;</span>,i)) <span class="kw">print</span>(<span class="st">&quot;YES&quot;</span>) </span>
<span id="cb26-5"><a href="#cb26-5"></a>  rep &lt;-<span class="st"> </span><span class="kw">gsub</span>(<span class="st">&quot;.csv&quot;</span>,<span class="st">&quot;&quot;</span>,meta.dat[<span class="dv">3</span>]) <span class="co">#use grep commands to remove the &quot;.csv&quot; at the end</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>  dat.i &lt;-<span class="st"> </span><span class="kw">read.csv</span>(i) <span class="co">#read in the data</span></span>
<span id="cb26-7"><a href="#cb26-7"></a>  all.dat[[i]] &lt;-<span class="st"> </span><span class="kw">data.frame</span>(dat.i, <span class="dt">rep=</span>rep) <span class="co">#combine the data withe replicate number in a data frame and stor it in our list under the file name i</span></span>
<span id="cb26-8"><a href="#cb26-8"></a>}</span></code></pre></div>
<p>Phew, that was a lot, let’s unpack it. The first line establishes a list named <code>all.dat</code> to receive our data. Then, the guts of <code>for</code> ensues. For all the <code>dat.files</code>, first retrieve the meta data, i.e., the data that explains your data, in this case the replicate number. We do this with the <code>strsplit()</code> command. It splits a text string by seperator, a <code>"_"</code> in this case. Notice that the command <code>strsplit(i,"_")</code> outputs a list itself. The tell here is the <code>[[1]]</code>, a “1” with the double brackets indicating such.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="kw">strsplit</span>(i,<span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<p>There’s only one element in this list, but we still have to identify that’s the one we want. Thus the <code>[[1]]</code> added to the <code>strsplit(i,"_")</code> command. Notice the third element in this is what we want, the replicate number. However, it has the unsightly “<code>.csv</code>” stuck to it. Let’s zap that with a <code>gsub()</code> command. <code>gsub()</code> is one of a series of search commands common to all computing languages. These commands use general regular expressions, or <code>regex</code>, in algorithms to find text. It’s really powerful, but any in-depth explanation of how they work is way beyond the scope of this MP and the course (however, you can learn more <a href="https://en.wikipedia.org/wiki/Regular_expression">here</a>. <code>gsub()</code> finds a string and substitutes it with another. In our case, we want to find <code>".csv"</code> and replace it with <code>""</code>, that is, nothing. With <code>gsub(".csv","",meta.dat[3])</code> we do just this and store the result in <code>rep</code>.</p>
<p>Next, we read in the data and pass it to the variable <code>dat.i</code>. Then, we combine the data in a data frame with a new column called <code>rep</code> with the <code>rep</code> meta data. This gets passed to an item in the list <code>all.dat</code> with the name <code>i</code>. This proceeds for all the items in the <code>dat.files</code> variable. Viola! Now we have a list of named data frames. Have a look by typing <code>all.dat</code> into the terminal. Caution: R tries to print it all.</p>
<p>What’s left is to simply combine all the data frames into a single data frame.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>all.dat &lt;-<span class="st"> </span><span class="kw">do.call</span>(rbind,all.dat)</span></code></pre></div>
<p>What we did here is apply a function to all items in our list with the <code>do.call()</code> command. This says, “Bind the rows of all the data frames in the <code>all.dat</code> list with the command <code>rbind</code>.” Double viola!! Have a look by printing the first few and last few rows of the new comprehensive data frame.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="kw">head</span>(all.dat)</span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="kw">tail</span>(all.dat)</span></code></pre></div>
<p>Wow, all our data from the five replicates in one spot. Now, we can apply some of the manipulation techniques we learned above to derive some summary statistics. So say we want to know the minimum, maximum, and number of data for each trial and for each kiddo:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>all.m &lt;-<span class="st"> </span><span class="kw">melt</span>(all.dat,<span class="dt">id=</span><span class="kw">c</span>(<span class="st">&quot;rep&quot;</span>,<span class="st">&quot;t&quot;</span>)) <span class="co">#first melt the data frame</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>all.sum &lt;-<span class="st"> </span><span class="kw">ddply</span>(all.m,.(rep,variable),summarize,<span class="dt">min=</span><span class="kw">min</span>(value),<span class="dt">max=</span><span class="kw">max</span>(value),<span class="dt">n=</span><span class="kw">length</span>(value)) <span class="co">#summarize the data by rep and variable (kiddo) and extract the min, max, and length (n)</span></span></code></pre></div>
<p>Sweet! Easy peasy. Let’s plot our results—the max vertical displacement—but this time save the plot itself to a variable <code>p</code>.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>p &lt;-<span class="st"> </span><span class="kw">qplot</span>(<span class="dt">x=</span>rep,<span class="dt">y=</span>max,<span class="dt">dat=</span>all.sum,<span class="dt">col=</span>variable)</span>
<span id="cb31-2"><a href="#cb31-2"></a><span class="kw">print</span>(p) <span class="co">#print p to see it</span></span></code></pre></div>
<p>After saving the plot, we can add aspects to it using the <code>ggplot</code> language. For example, change the x- and y-axis labels and give the plot a clean, classic look with 20 pt font. Then, save the plot as a PDF:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>p &lt;-<span class="st"> </span>p<span class="op">+</span><span class="kw">ylab</span>(<span class="st">&quot;y displacement (cm)&quot;</span>)<span class="op">+</span><span class="kw">xlab</span>(<span class="st">&quot;time (ms)&quot;</span>)<span class="op">+</span><span class="kw">theme_classic</span>(<span class="dv">20</span>)</span>
<span id="cb32-2"><a href="#cb32-2"></a></span>
<span id="cb32-3"><a href="#cb32-3"></a><span class="kw">pdf</span>(<span class="st">&quot;y_disp_vs_t.pdf&quot;</span>) <span class="co">#open a pdf</span></span>
<span id="cb32-4"><a href="#cb32-4"></a><span class="kw">print</span>(p) <span class="co">#print a plot to it</span></span>
<span id="cb32-5"><a href="#cb32-5"></a><span class="kw">dev.off</span>() <span class="co">#shut it down</span></span></code></pre></div>
<p>Holy smokes, that looks spectacular! You’re now armed with some kick-arse scripting and plotting skills to analyze and visualize data, biomechanical or otherwise.</p>
</div>
<div id="your-mission-and-you-have-to-accept-it" class="section level1">
<h1>Your mission (and you have to accept it)</h1>
<p>Now that you have some R skills, lets put them to the test. You’re tasked with writing a markdown document using <code>knitr</code> in much the same way this document was produced. Yes, I’m throwing you to the wolves, but that’s often what makes this stuff stick. You can start with details on using R Markdown at <a href="http://rmarkdown.rstudio.com" class="uri">http://rmarkdown.rstudio.com</a> <strong>and</strong> inspecting the contents of this file. This’ll help, too: <a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf" class="uri">https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf</a></p>
<p>The markdown must contain the following:</p>
<ol style="list-style-type: decimal">
<li>A plot of the mean maximum for each kiddo across all replicates. It must contain or be accompanied with: + properly labelled axes + different colors for each subject + error bars that correspond to 1± standard error of the mean (s.e.) + a simple ANOVA test of results (with alpha of 0.05). <a href="https://www.statmethods.net/stats/anova.html">This’ll help.</a> + a brief paragraph summarizing the differences and any inferences of why they are</li>
<li>A plot of the maximum vertical displacement for each kiddo versus replicate with a trend line. This must also be accompanied: + a table and summary of a two-way ANOVA (i.e., analysis of covariance) that tests the differences between subjects as they vary with replicate. <a href="https://rexplorations.wordpress.com/2015/09/07/two-way-anova-in-r/">This’ll help.</a> + a brief paragraph summarizing the differences and any inferences of why they are</li>
</ol>
<p>The <code>knitr</code> markdown file is due on January 29th at 11:00 Am. You should submit the file to this <a href="https://drive.google.com/drive/folders/1XnpBl1sx1DJFnEq_ngMZIdUmEySCa-nZ?usp=sharing">google directory</a> by the start of class.</p>
<p><b>Good luck!</b></p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
